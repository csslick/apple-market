<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>로그인 - 오이마켓</title>
  <link rel="stylesheet" href="./style.css">
  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
  <header>
      <h1>오이마켓</h1>
      <nav class="col">
        <ul>
          <li><a href="./">상품</a></li>
          <li><a href="upload.html">상품등록</a></li>
          <li><a href="login.html">로그인</a></li>
        </ul>
      </nav>  
  </header>

  <section id="main">
    <form id="register">
      <div class="form-group">
        <input type="text" placeholder="이름" id="name">
      </div>
      <div class="form-group">
        <input type="email" placeholder="이메일" id="email">
      </div>
      <div class="form-group">
        <input type="password" placeholder="비밀번호" id="pwd">
      </div>
      <button type="submit" class="btn btn-primary">가입하기</button>
    </form>
  </section>


  <!-- 파이어베이스 SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyDgGq0_soQPy8yuQ3hg6hUapciK7tcYaNs",
      authDomain: "apple-market-5181a.firebaseapp.com",
      projectId: "apple-market-5181a",
      storageBucket: "apple-market-5181a.appspot.com",
      messagingSenderId: "888430337156",
      appId: "1:888430337156:web:feaf3bda46f39982b176d1"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
  </script>

  <script>
    const db = firebase.firestore(); // 파이어베이스 DB
    const storage = firebase.storage(); // 스토리지(파일) 저장소

    // 가입
    $('#register').on('click', function(e){
      e.preventDefault();

      const email = $('#email').val();
      const pwd = $('#pwd').val();
      
      firebase.auth().createUserWithEmailAndPassword(email, pwd)
        .then(function(res){
          // 가입성공
          console.log(res)
          console.log(res.user)
        })
        .catch(function(err){
          // 에러
        })
    })



  </script>
</body>
</html>